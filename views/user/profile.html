{% extends "layouts/base.html" %} {% block body %}
<section class = "container d-flex justify-content-center align-items-center flex-column ">
  <div
    data-scroll-section
    class="profile-container w-100 mt-4"
  >
    <h1>User Profile</h1>
    <p>You can view and update your profile details here.</p>
    <form action="/user/api/update_profile" method="post" enctype="multipart/form-data">
      <div
        class="mb-3 d-flex flex-column align-items-center justify-content-center"
      >
        <label for="profile_pic" class="form-label">Profile Picture</label>
        <img
          id="pfp"
          style="
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid black;
          "
          src="{{ user.profile_pic_url }}"
          alt="Profile Image"
        />
        <input
          class="mt-2"
          onchange="file_changed()"
          style="width: 50%; height: 25%; margin: auto"
          type="file"
          id="profile_pic"
          name="profile_pic"
        />
      </div>
      <div class="mb-3">
        <label for="username" class="form-label">Username:</label>
        <input
          type="text"
          id="username"
          name="username"
          class="form-control"
          value="{{user.username}}"
          disabled
        />
      </div>
      <div class="mb-3">
        <label for="fname" class="form-label">First Name:</label>
        <input
          maxlength="255"
          type="text"
          id="fname"
          name="fname"
          class="form-control"
          value="{{user.fname}}"
        />
      </div>
      <div class="mb-3">
        <label for="lname" class="form-label">Last Name:</label>
        <input
          required
          maxlength="255"
          type="text"
          id="lname"
          name="lname"
          class="form-control"
          value="{{user.lname}}"
        />
      </div>
      <div class="mb-3">
        <div class="d-flex justify-content-between align-items-center">
          <label for="email" class="form-label">Email:</label>
        </div>
        <input
          required
          maxlength="255"
          type="email"
          id="email"
          name="email"
          class="form-control"
          value="{{user.email}}"
        />
        <br />
      </div>
      <div class="mb-3">
        <label for="old_password" class="form-label">Old Password:</label>
        <input type="password" id="old_password" name="old_password" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">New Password:</label>
        <input
          type="password"
          id="password"
          name="password"
          class="form-control"
        />
      </div>

      <div class="mb-3">
        <button type="submit" class="btn btn-primary">Update Profile</button>
      </div>
    </form>
  </div>

  <div>
    <div class="feedback-container container">
      <h1>Your Reviews</h1>
      <div class="messages d-flex p-2 flex-wrap"></div>
    </div>
  </div>
</section>

{% endblock %}
